---
import { type CollectionEntry, getCollection } from "astro:content";
import BaseLayout from "../../layouts/BaseLayout.astro";
import Hero from "../../components/Hero.astro";
import ContentBg from "../../components/Content-bg.astro";
import BentoGrid from "../../components/BentoGrid.astro";
import ContactForm from "../../components/ContactForm.astro";
import LogoCloudRight from "../../components/LogoCloudRight.astro";
import ProviderFor from "../../components/ProviderFor.astro";
import Breadcrumbs from "../../components/Breadcrumbs.astro";
import FAQ from "../../components/FAQ.astro";
import { locationFAQs } from "../../data/faqs.js";

export async function getStaticPaths() {
  const locations = await getCollection("location");
  return locations.map((location) => ({
    params: { slug: location.slug }, // Use the slug auto-generated by Astro
    props: location, // Pass the location data as props
  }));
}

type Props = CollectionEntry<"location">;
const location = Astro.props;

const locationCity = location.data.city || "your area";
const locationStateShort = location.data.stateShort || "your state";
const locationStateLong = location.data.stateLong || "your state";

const landingData = {
  hero: {
    heading: `Trusted Turboprop Maintenance in ${locationCity}, ${locationStateShort}`,
    subHeading: "at Heritage Field Airport, KPTW, Pottstown, PA",
    subHeadingLink: "/kptw-info",
    description: `Penn Air Repair specializes in expert maintenance for King Air, Pilatus, and Cessna turboprop aircraft. We provide the most reliable and cost-effective maintenance solution for turboprop owners in ${locationStateLong}, with easy access from ${locationCity}.`,
  },

  providerFor: {
    title: "Primary maintenance provider for:",
    logos: [
      {
        imagePath: "/src/assets/pennjetllc.webp",
        imageAlt: "PennJet LLC Logo",
        link: "https://pennjet.net/",
      },
      {
        imagePath: "/src/assets/pitcairn-logo-400.webp",
        imageAlt: "Pitcairn Flight Academy Logo",
        link: "https://pitcairnflightacademy.com/",
      },
    ],
  },
  partners: {
    id: "partners",
    heading: "Turboprop Specialists",
    description: `Penn Air Repair has extensive experience with Beechcraft King Air 90/200/350, Pilatus PC-12/PC-24, Cessna 208/208B Caravan, and TBM 700/850/900/910/940 series aircraft. Our team serves ${locationCity} and all of ${locationStateLong} with specialized turboprop maintenance and repair services to keep your aircraft flying safely and efficiently.`,
    logos: [
      {
        imagePath: "/src/assets/penn-air-cessna.webp",
        imageAlt: "Cessna logo - Turboprop Maintenance",
      },
      {
        imagePath: "/src/assets/penn-air-piper.webp",
        imageAlt: "Piper logo - Aircraft Maintenance",
      },
      {
        imagePath: "/src/assets/penn-air-beechcraft.webp",
        imageAlt: "Beechcraft King Air Maintenance",
      },
      {
        imagePath: "/src/assets/penn-air-lycoming.webp",
        imageAlt: "Lycoming Engine Service",
      },
      {
        imagePath: "/src/assets/penn-air-continental.webp",
        imageAlt: "Continental Engine Maintenance",
      },
    ],
  },
  services: {
    id: "our-services",
    upperheading: "Turboprop Expertise",
    heading: "Specialized Turboprop Maintenance",
    description: `Penn Air Repair delivers comprehensive <a href="/services" class="font-semibold text-red-800 hover:underline">turboprop maintenance services</a> for aircraft owners in ${locationCity} and throughout ${locationStateLong}. Our PT6A engine specialists provide expert care for King Air, Pilatus, and Cessna turboprop aircraft. We meticulously perform <a href="/services/100-hour-inspection" class="font-semibold text-red-800 hover:underline">100-hour inspections</a> and <a href="/services/annual-inspection" class="font-semibold text-red-800 hover:underline">annual inspections</a> to ensure FAA compliance and peak performance. New clients receive access to our <span class="font-semibold text-red-800">advanced maintenance tracking system</span> for seamless service scheduling and documentation.`,
    cards: [
      {
        imagePath: "/src/assets/DG inspecting wing repair.jpg",
        imageAlt: "Penn Air Repair King Air maintenance",
        title: "King Air Maintenance",
        descriptions: [
          "Our certified technicians specialize in Beechcraft King Air 90, 200, and 350 maintenance. From routine inspections to complex repairs, we provide comprehensive service for King Air operators in ${locationCity} and throughout ${locationStateLong}.",
          "We understand the operational demands placed on your King Air aircraft. Our maintenance programs are designed to minimize downtime while ensuring the highest standards of safety and reliability for these versatile turboprop aircraft.",
          "Trust our King Air specialists to develop a maintenance plan tailored to your specific operational needs and flight schedule.",
        ],
      },
      {
        title: "Pilatus PC-12 & PC-24 Service",
        descriptions: [
          "Penn Air Repair offers specialized maintenance for Pilatus PC-12 and PC-24 aircraft, delivering the precision and expertise these sophisticated Swiss-engineered aircraft demand. Our technicians have extensive experience with PT6A-67P engines and advanced avionics systems used in these premium  jet aircraft.",
          "From routine maintenance to complex troubleshooting, our Pilatus specialists ensure your aircraft operates at peak performance with the reliability you expect from your significant investment.",
        ],
      },
      {
        title: "Cessna Caravan Expertise",
        descriptions: [
          "We provide comprehensive maintenance services for Cessna 208 Caravan and 208B Grand Caravan turboprop aircraft. Our team understands the unique requirements of these versatile workhorses, from PT6A-114/114A engine maintenance to airframe inspections and avionics support.",
          "Whether your Caravan serves commercial, cargo, or private operations, our maintenance programs are designed to maximize reliability and minimize downtime, keeping your aircraft mission-ready at all times.",
        ],
      },
      {
        imagePath: "/src/assets/penn-air-engine.webp",
        imageAlt: "Penn Air Repair PT6A engine maintenance",
        title: "PT6A Engine Specialists",
        descriptions: [
          "Penn Air Repair offers expert maintenance for Pratt & Whitney PT6A engines, including PT6A-21, PT6A-42, PT6A-60A, and PT6A-67P variants. Our engine specialists have decades of experience maintaining these reliable turboprop powerplants to ensure optimal performance and longevity.",
          "From hot section inspections to complete overhauls, we ensure your PT6A engine delivers the power and reliability you depend on. Our strong industry connections and technical expertise allow us to efficiently address all your engine maintenance needs.",
        ],
      },
    ],
    extraCards: [
      {
        imagePath: "/src/assets/DG inspecting wing repair.jpg",
        imageAlt: "Penn Air Repair TBM maintenance",
        title: "TBM Series Maintenance",
        descriptions: [
          "Our maintenance team has specialized experience with TBM 700, 850, 900, 910, and 940 series aircraft. These high-performance single-engine turboprops require precise maintenance to maintain their exceptional speed and efficiency capabilities.",
          "We understand the unique systems and PT6A-64/66D engine requirements of TBM aircraft. Whether you're based in ${locationCity} or anywhere in ${locationStateLong}, you can trust Penn Air Repair for expert TBM maintenance.",
        ],
      },
      {
        imagePath: "/src/assets/DG inspecting wing repair.jpg",
        imageAlt: "Penn Air Repair piston aircraft maintenance",
        title: "Piston Aircraft Service",
        descriptions: [
          "Beyond turboprop maintenance, our team also excels in piston aircraft care. From basic preventative maintenance to complete engine overhauls, we provide comprehensive services for Cessna, Piper, Beechcraft, and other piston-powered aircraft.",
          "With over 30 years in the industry, our reputation for excellence extends to all aircraft types. Our ${locationCity}-area clients trust us with everything from routine inspections to emergency airworthiness directives.",
        ],
      },
      {
        title: "SureFly Electronic Ignition Installations",
        descriptions: [
          "Penn Air Repair is an Approved SureFly Installation Specialist. SureFly is a FAA-certified electronic (solid state) magneto replacement system designed to improve ignition reliability and efficiency. The SureFly Ignition Module (SIM) replaces one or both magnetos, reducing maintenance requirements and improving engine performance. Four and Six cylinder SIMs are available for Lycoming and Continental engines.",
        ],
      },
    ],
  },
  howWeDoIt: {
    id: "how-we-do-it",
    imagePath: "/src/assets/kai-oberhauser-ELCSOhGi73M-unsplash.jpg",
    imageAlt: "Penn Air Repair turboprop maintenance",
    upperheading: "Our Approach",
    heading: "Turboprop Maintenance Excellence",
    sections: [
      {
        description: `Specialized Turboprop Service`,
        paragraph:
          "Penn Air Repair excels in turboprop maintenance with specialized expertise in King Air, Pilatus, and Cessna aircraft. Our factory-trained technicians understand the unique requirements of PT6A engines and turboprop systems. We prioritize meticulous attention to detail and quality workmanship to ensure the safety, reliability, and performance of your valuable aircraft.",
      },
      {
        description: `Comprehensive Inspections`,
        paragraph:
          "Our inspection process for turboprop aircraft goes beyond basic requirements. We conduct thorough examinations of critical systems, components, and documentation with specialized knowledge of turboprop powerplants and airframes. From PT6A hot section inspections to complex avionics checks, we ensure your turboprop aircraft meets or exceeds all FAA requirements.",
      },
      {
        description: `Turboprop Parts & Support`,
        paragraph:
          "Penn Air Repair maintains an extensive inventory of turboprop-specific parts and components, with particular focus on PT6A engine parts and King Air, Pilatus, and Cessna Caravan components. Our established relationships with OEMs and parts suppliers ensure we can quickly source any needed components to minimize your aircraft's downtime and keep you flying.",
      },
    ],
  },
};

// SEO metadata
const title = ` Aircraft Maintenance in ${locationCity}, ${locationStateLong} | King Air, Pilatus & Cessna Specialists`;
const description = `Expert turboprop maintenance for King Air, Pilatus PC-12, Cessna Caravan, and TBM aircraft in ${locationCity}, ${locationStateLong}. PT6A engine specialists serving ${locationStateShort} aircraft owners with FAA-certified maintenance at Heritage Field Airport (KPTW).`;
const keywords = `turboprop maintenance ${locationCity}, King Air 90 maintenance ${locationStateShort}, King Air 200 maintenance ${locationStateShort}, King Air 350 maintenance ${locationStateShort}, Pilatus PC-12 maintenance ${locationCity}, Pilatus PC-24 service ${locationStateShort}, Cessna Caravan maintenance ${locationStateShort}, TBM maintenance ${locationCity}, PT6A engine service ${locationStateShort}, PT6A-67P maintenance ${locationCity}, aircraft maintenance ${locationCity}, airplane repair ${locationStateShort}, FAA inspections ${locationCity}, annual aircraft inspection ${locationStateLong}`;

// Breadcrumb data
const breadcrumbs = [
  { name: "Home", href: "/" },
  { name: "Service Areas", href: "/locations" },
  {
    name: `${locationCity}, ${locationStateShort}`,
    href: `/location/${location.slug}`,
  },
];
---

<BaseLayout title={title} description={description} keywords={keywords}>
  <div class="bg-white py-4">
    <div class="container mx-auto px-4">
      <Breadcrumbs items={breadcrumbs} />
    </div>
  </div>
  <Hero data={landingData.hero} />
  <ProviderFor data={landingData.providerFor} />
  <LogoCloudRight data={landingData.partners} />
  <BentoGrid data={landingData.services} />
  <ContentBg data={landingData.howWeDoIt} />
  <FAQ items={locationFAQs} />
  <ContactForm />

  <!-- Location Schema.org structured data -->
  <script
    type="application/ld+json"
    set:html={JSON.stringify({
      "@context": "https://schema.org",
      "@type": "LocalBusiness",
      "@id": `https://pennairrepair.com/locations/${location.slug}`,
      name: "Penn Air Repair - Turboprop Maintenance Specialists",
      description: `Expert turboprop maintenance services for King Air, Pilatus PC-12, Cessna Caravan, and TBM aircraft in ${locationCity}, ${locationStateLong}`,
      image: "/penn-air-logo-250.webp",
      url: `https://pennairrepair.com/locations/${location.slug}`,
      telephone: "+1-(610) 495-3070",
      email: "info@pennairrepair.com",
      address: {
        "@type": "PostalAddress",
        streetAddress: "3310 W Ridge Pike",
        addressLocality: "Pottstown",
        addressRegion: "PA",
        postalCode: "19464",
        addressCountry: "US",
      },
      geo: {
        "@type": "GeoCoordinates",
        latitude: "40.24217243030569",
        longitude: "-75.55532596753021",
      },
      areaServed: [
        {
          "@type": "City",
          name: locationCity,
        },
        {
          "@type": "State",
          name: locationStateLong,
        },
      ],
      serviceArea: {
        "@type": "GeoCircle",
        geoMidpoint: {
          "@type": "GeoCoordinates",
          latitude: "40.24217243030569",
          longitude: "-75.55532596753021",
        },
        geoRadius: "320000",
      },
      sameAs: [
        "https://pennairrepair.com/",
        "https://pennairrepair.com/locations",
      ],
      openingHoursSpecification: {
        "@type": "OpeningHoursSpecification",
        dayOfWeek: [
          "Monday",
          "Tuesday",
          "Wednesday",
          "Thursday",
          "Friday",
          "Saturday",
          "Sunday",
        ],
        opens: "07:00",
        closes: "20:00",
      },
      makesOffer: [
        {
          "@type": "Offer",
          itemOffered: {
            "@type": "Service",
            name: "King Air Turboprop Maintenance",
            description: `Expert maintenance for Beechcraft King Air 90/200/350 turboprop aircraft in ${locationCity}, ${locationStateShort}`,
          },
        },
        {
          "@type": "Offer",
          itemOffered: {
            "@type": "Service",
            name: "Pilatus PC-12 Maintenance",
            description: `Specialized service for Pilatus PC-12 turboprop aircraft in ${locationCity}, ${locationStateShort}`,
          },
        },
        {
          "@type": "Offer",
          itemOffered: {
            "@type": "Service",
            name: "PT6A Engine Service",
            description: `PT6A engine maintenance and overhaul services in ${locationCity}, ${locationStateShort}`,
          },
        },
      ],
    })}
  />
</BaseLayout>
